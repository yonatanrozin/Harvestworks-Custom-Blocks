(()=>{const n=document.querySelector(".wp-block-harvestworks-event-list");function s(n){if(!n)return null;const s=n.substring(0,4),e=n.substring(4,6)-1,t=n.substring(6,8);return new Date(s,e,t).toLocaleString("default",{month:"short",day:"2-digit"})}async function e(){let e=new URL(window.location.href).searchParams.get("date");const t="/wp-json/wp/v2/events"+(e?`?date=${e}`:""),a=await(await fetch(t)).json();n.innerHTML=a.map((n=>function(n){const{post_title:e,acf:t,featured_image:a,guid:i,status:p,excerpt:c}=n,{date:o,end_date:d,location:r,event_type:l,artists:v}=t;return`\n        <div class="event_card">\n            ${a?`<div class="event_img" style="background-image: url(${a})" >\n                ${p?`<span class="event_status">${p}</span>`:""}\n            </div>`:""}\n            <div class="event_info">\n                <div class="event_details" >\n                    <span class="event_dates">\n                        <span>${s(o)}</span>\n                        ${d?`<span>&nbsp;—&nbsp;</span><span>${s(d)}</span>`:""}\n                    </span>\n                    <span>•</span>\n                    <span class="event_type">${l[0].name}</span>\n                    <span>•</span>\n                    <span class="event_location">${r}</span>\n                </div>\n                <a class="event_name" href="${i}">\n                    <h2>\n                        <span class="event_title">${e}</span>\n                        ${v?`<span class="event_artists">by ${v}</span>`:""}\n                    </h2>\n                </a>\n                <p class="event_description">${c}</p>\n            </div>\n        </div>\n    `}(n))).join("")}document.addEventListener("DOMContentLoaded",e),window.addEventListener("popstate",e)})();