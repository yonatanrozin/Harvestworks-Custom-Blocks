(()=>{"use strict";var e,n={269:()=>{const e=window.wp.blocks,n=window.wp.i18n,r=window.wp.blockEditor,i=window.wp.components,s=window.React,t=window.ReactJSXRuntime,l=JSON.parse('{"UU":"create-block/navigation-sidebar"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){var o;const{supplementaryLinks:a}=e,[c,h]=(0,s.useState)([]),d=null!==(o=window.location.href.split("postId=")[1].split("&")[0])&&void 0!==o?o:void 0;return(0,s.useEffect)((()=>{if(!d)return;const e=async(n,r,i)=>{var s;if(0===n||!n||!r||!i||""===i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{children:"Navigation"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Example"}),(0,t.jsx)("li",{children:"Navigation"}),(0,t.jsx)("ul",{children:(0,t.jsx)("li",{children:"Hierarchy"})}),(0,t.jsx)("li",{children:"Links"}),(0,t.jsx)("li",{children:"Shown Because"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"There Is No"}),(0,t.jsx)("li",{children:"Current"}),(0,t.jsx)("li",{children:"Parent Page"})]}),(0,t.jsx)("li",{children:"For The One"}),(0,t.jsx)("li",{children:"You're Editing"})]})]});const l=[];console.log("Fetching children for page ID:",n),l.push((0,t.jsx)("li",{children:(0,t.jsx)("a",{href:null!=i?i:"",children:null!=r?r:""})},null!=n?n:""));const o=await fetch("/index.php/wp-json/harvestworks/v1/pages?id="+n).then((e=>e.json())).catch((e=>console.error("Error fetching pages:",e)));console.log("Fetched pages:",o);const a=await Promise.all(o.map((async n=>e(n.id,n.title,n.link))));return l.push((0,t.jsx)("ul",{children:a},null!==(s=n+"sub")&&void 0!==s?s:"")),console.log("Rendering pages:",l),l};(async()=>{const e=await fetch("/index.php/wp-json/harvestworks/v1/ancestor?id="+d).then((e=>e.json())).catch((e=>console.error("Error fetching pages:",e)));return console.log("Fetched ancestor:",e),e})().then((n=>{console.log("Starting recursion: ",n),e(n.id,n.title,n.link).then((e=>h(e)))}))}),[h]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.InspectorControls,{children:(0,t.jsx)(i.PanelBody,{title:(0,n.__)("Settings","navigation-sidebar"),children:(0,t.jsx)(i.TextareaControl,{__nextHasNoMarginBottom:!0,label:(0,n.__)("Supplementary Links","navigation-sidebar"),help:"Enter extra links to include in the sidebar, in the following rule format. ex. Parent Page Title <-> Link Name <-> http://harvestworks.org/special-link",value:a||"",onChange:e=>l({supplementaryLinks:e})})})}),(0,t.jsx)("div",{...(0,r.useBlockProps)(),children:(0,t.jsx)("div",{className:"sidebar",children:(0,t.jsx)("ul",{children:c})})})]})}})}},r={};function i(e){var s=r[e];if(void 0!==s)return s.exports;var t=r[e]={exports:{}};return n[e](t,t.exports,i),t.exports}i.m=n,e=[],i.O=(n,r,s,t)=>{if(!r){var l=1/0;for(h=0;h<e.length;h++){r=e[h][0],s=e[h][1],t=e[h][2];for(var o=!0,a=0;a<r.length;a++)(!1&t||l>=t)&&Object.keys(i.O).every((e=>i.O[e](r[a])))?r.splice(a--,1):(o=!1,t<l&&(l=t));if(o){e.splice(h--,1);var c=s();void 0!==c&&(n=c)}}return n}t=t||0;for(var h=e.length;h>0&&e[h-1][2]>t;h--)e[h]=e[h-1];e[h]=[r,s,t]},i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={107:0,419:0};i.O.j=n=>0===e[n];var n=(n,r)=>{var s,t,l=r[0],o=r[1],a=r[2],c=0;if(l.some((n=>0!==e[n]))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(a)var h=a(i)}for(n&&n(r);c<l.length;c++)t=l[c],i.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return i.O(h)},r=self.webpackChunkharvestworks=self.webpackChunkharvestworks||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var s=i.O(void 0,[419],(()=>i(269)));s=i.O(s)})();