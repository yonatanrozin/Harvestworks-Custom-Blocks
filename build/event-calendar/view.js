(()=>{new Array(6).fill(void 0).map((()=>{const e=document.createElement("div");return e.classList.add("calendar_offset"),e.style.height="100%",e}));const e=document.querySelectorAll(".calendar_day"),t=new URL(window.location.href);let n=a(t.searchParams.get("date"))||new Date;function a(e){if(!e)return null;const t=e.substring(0,4),n=e.substring(4,6)-1,a=e.substring(6,8);return new Date(t,n,a)}function s(){const s=t.searchParams.get("date");console.log(n);const o=n.getMonth(),r=n.getFullYear(),d=new Date(r,o+1,0).getDate();for(const l of e){if(Number(l.id)>d){l.style.display="none";continue}l.style.display="flex";const u=new Date(r,o,l.id);function i(){const e=u.toISOString().split("T")[0].split("-").join("");e==t.searchParams.get("date")?t.searchParams.delete("date"):t.searchParams.set("date",e),history.pushState({},"",t),window.dispatchEvent(new PopStateEvent("popstate"))}s===u.toISOString().split("T")[0].split("-").join("")?l.classList.add("queried"):l.classList.remove("queried");for(const f of window.events){const h=a(f.start_date).valueOf(),g=f.end_date?a(f.end_date).valueOf():h;if(u.valueOf()>=h&&u.valueOf()<=g){l.classList.add("has_event"),l.onclick=i;break}l.classList.remove("has_event")}}const c=new Date(r,o,1).getDay();document.querySelector(".calendar_day").style.gridColumnStart=c+1,document.querySelector("#calendar_date h3").innerHTML=n.toLocaleString("default",{month:"short"})+" "+n.toLocaleString("default",{year:"numeric"})}"Invalid Date"==n&&(n=new Date),document.getElementById("nextMonthButton").addEventListener("click",(function(){n.setMonth(n.getMonth()+1),s()})),document.getElementById("prevMonthButton").addEventListener("click",(function(){n.setMonth(n.getMonth()-1),s()})),window.addEventListener("popstate",s),s()})();